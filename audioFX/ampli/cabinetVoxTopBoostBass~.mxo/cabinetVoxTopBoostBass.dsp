declare name "cabinetVoxTopBoostBass";
declare description "Generated by tools/physicalModeling/ir2dsp.py";

import("stdfaust.lib");

pi = 4*atan(1.0);
nModes = 230;

modeFrequencies=(99.9874039552,127.761682832,166.645673259,183.310240584,255.523365663,288.852500315,344.401058068,499.937019776,655.472981484,727.686106563,788.789520091,877.667212495,922.106058698,1172.07456859,1260.95226099,1272.06197254,1327.61053029,1383.15908805,1494.25620355,1505.3659151,1599.79846328,1616.46303061,1649.79216526,1727.56014611,1749.77956922,1833.10240584,1894.20581937,1977.528656,2071.96120418,2121.95490616,2216.38745434,2338.5942814,2399.69769492,2449.6913969,2466.35596423,2499.68509888,2538.56908931,2555.23365663,2644.11134904,2705.21476256,2766.31817609,2894.07985892,3027.39639753,3199.59692657,3255.14548432,3332.91346517,3460.675148,3488.44942688,3560.66255196,3605.10139816,3677.31452324,3732.86308099,3810.63106185,3943.94760045,3988.38644666,4082.81899484,4127.25784104,4171.69668724,4199.47096612,4249.46466809,4399.44577403,4499.43317798,4543.87202418,4599.42058194,4671.63370702,4843.83423605,4916.04736113,4971.59591888,5132.68673636,5254.89356342,5332.66154428,5415.9843809,5471.53293866,5571.52034261,5643.73346769,5710.39173699,5765.94029475,5843.7082756,5888.1471218,5921.47625646,5993.68938153,6110.34135282,6193.66418944,6254.76760297,6349.20015115,6399.19385313,6538.06524751,6565.83952639,6688.04635345,6826.91774783,6849.13717093,6988.00856531,7093.55082504,7121.32510392,7254.64164252,7321.29991183,7404.62274846,7554.60385439,7699.03010455,7749.02380652,7799.0175085,7887.89520091,7932.33404711,7943.44375866,8054.54087417,8126.75399924,8165.63798967,8265.62539363,8304.50938405,8360.05794181,8443.38077844,8504.48419196,8604.47159592,8632.2458748,8737.78813453,8787.7818365,8837.77553848,8848.88525003,8921.09837511,8998.86635596,9087.74404837,9098.85375992,9148.8474619,9226.61544275,9321.04799093,9387.70626023,9448.80967376,9482.13880841,9593.23592392,9648.78448167,9732.1073183,9793.21073183,9826.53986648,9882.08842423,9920.97241466,9954.30154931,10037.6243859,10048.7340975,10065.3986648,10154.2763572,10226.4894823,10248.7089054,10393.1351556,10443.1288575,10465.3482806,10509.7871268,10582.0002519,10720.8716463,10765.3104925,10837.5236176,10865.2978965,10881.9624638,10893.0721753,10954.1755889,11076.3824159,11215.2538103,11326.3509258,11359.6800605,11393.0091951,11448.5577529,11481.8868875,11620.7582819,11742.965109,11787.4039552,11809.6233783,11965.15934,12048.4821766,12087.366167,12137.359869,12215.1278499,12287.3409749,12348.4443885,12431.7672251,12476.2060713,12581.748331,12615.0774657,12631.742033,12642.8517446,12726.1745812,12765.0585716,12792.8328505,12876.1556871,13042.8013604,13198.3373221,13353.8732838,13392.7572742,13420.5315531,13492.7446782,13520.518957,13592.7320821,13642.7257841,13659.3903514,13692.7194861,13703.8291976,13720.493765,13731.6034765,13776.0423227,13798.2617458,13876.0297267,13964.9074191,13987.1268422,14064.894823,14359.3021791,14409.2958811,14448.1798715,14464.8444388,14481.5090062,14509.283285,14537.0575639,14548.1672755,14559.276987,14570.3866986,15059.2140068,15070.3237184,15120.3174203,15136.9819877,15148.0916992,15181.4208339,15203.640257,15220.3048243,15236.9693916,15248.0791032,15259.1888147,15286.9630936,15303.6276609,15320.2922282,15331.4019398,15342.5116513,15364.7310744,15392.5053533);
massEigenValues=(0.165635490394,0.164660869063,0.198918713214,0.192738214966,0.501397772339,0.473556634707,0.5505848494,0.645472122906,0.486609993884,0.357218166134,0.488001601206,0.48846218741,0.590847652191,0.510752438441,0.435809758429,0.437765714313,0.412863303283,0.424424392122,0.313433345458,0.31370825608,0.44264112409,0.442253359707,0.459718698506,0.628176118254,0.644516308713,0.530705755688,0.637536983933,0.467630331245,0.610786456505,0.742948467724,0.716013247953,0.836859924866,0.868968573998,0.835624620127,0.836689464213,0.848648953964,0.86185832036,0.869521719091,0.59927830824,0.507612950223,0.579110225994,1.0,0.803993794929,0.771712035706,0.672954315912,0.834934904967,0.7475580875,0.733803328279,0.539073763781,0.595935431751,0.429716845726,0.402390391035,0.516735096225,0.594656292647,0.652799509118,0.882631293125,0.935646028755,0.896613633675,0.894076985815,0.794715923832,0.519177232637,0.466216317032,0.422780193704,0.372955553118,0.491226789378,0.601644605969,0.428401710242,0.482447230918,0.386957972143,0.214926080204,0.206162387303,0.304788042985,0.27549206882,0.217772396399,0.111527796382,0.0936117158432,0.077810175144,0.0396339784841,0.0546364473901,0.0649433105959,0.130592566177,0.137610347293,0.098040798104,0.13272142262,0.113693463974,0.119594468411,0.0770158994293,0.0751119879314,0.0974662821644,0.0544635825852,0.0547068137748,0.0577766303639,0.0492453946021,0.0486502699202,0.0532274694644,0.0352326119296,0.0575464966792,0.0573304899155,0.065822929443,0.0628354852201,0.0752743094151,0.0714763238048,0.0693372893522,0.0692010164011,0.0586186210155,0.0513034056239,0.0473716686721,0.049005442192,0.0468832251827,0.049165795704,0.0541150481035,0.0508772455164,0.0461811539413,0.0455310040165,0.0356878166715,0.0369952101712,0.034979195157,0.0349409746418,0.0411681444095,0.0474550822756,0.0392066938035,0.0389494648278,0.0422758209446,0.0447110441084,0.0634704425358,0.0579179469162,0.0595173479399,0.0627900311448,0.0500368645105,0.0499552431174,0.036879233317,0.0424395617753,0.0420224506901,0.0370575823037,0.0389628926531,0.0431171530593,0.0311664331606,0.0312977210903,0.0312835691898,0.023174459639,0.0167554594013,0.0169955878284,0.0290035912271,0.0217383200827,0.0220484957968,0.0231599970651,0.0177297043458,0.0261821108266,0.0225018161529,0.03139710025,0.0327149840762,0.0328511617542,0.0326865533175,0.0399329511379,0.0407026141292,0.0449735115002,0.0492828721662,0.048041938354,0.0509240028808,0.0524713399166,0.0553806186428,0.0500543598663,0.0285761831727,0.0291828839664,0.0298931041423,0.0293873651869,0.0239350907611,0.0252900994931,0.030151773949,0.027663533024,0.0342919689758,0.0297522304373,0.0234049955601,0.0212879576147,0.0206708882362,0.0202874003718,0.0202020251127,0.0202156226817,0.0237246125861,0.0228966918991,0.0223130285562,0.0256327941556,0.0199608582587,0.0143419433609,0.0144685628477,0.0125122935523,0.0130193749747,0.016212346115,0.0162712665444,0.0118072383081,0.0141341070732,0.0141531786856,0.0135619704464,0.0134918059003,0.0138886095035,0.0138458721818,0.0120407578433,0.0126552367981,0.0187610253628,0.0111684123201,0.0102609435048,0.0102454688762,0.0101025529679,0.0102067776162,0.0108033179872,0.0104589654613,0.0103770607758,0.0102753046166,0.0102915841141,0.0104134664304,0.0105227431987,0.0102863887225,0.0103794487259,0.0104660673377,0.0103196331675,0.0107788273513,0.0119407821524,0.0140319382175,0.0144217886454,0.0145279406571,0.014263942254,0.0139365929825,0.0139011260235,0.0119490609966,0.011858882453,0.0120474996515,0.0123300625074,0.0119632513868,0.0129282133115,0.0122798110243);
t60=(0.0133157946499,0.0133157946499,0.0134024062651,0.0133589592413,0.149078647077,0.147283463044,0.214429646696,0.643132225291,0.147283463044,0.0779001777853,0.939926321566,0.370321491753,0.531296769015,0.330295206849,0.179755174754,0.179755174754,0.0190211250379,0.0190505389579,0.0188754130108,0.0188754130108,0.0213271777771,0.0213271777771,0.0213271777771,0.24942577474,0.254620512528,0.0306234708313,0.24942577474,0.0213641963149,0.0611684965187,0.271589989347,0.102750832425,0.207163501523,0.210733934924,0.194015238893,0.207163501523,0.207163501523,0.207163501523,0.210733934924,0.0608645657491,0.0221725126285,0.0605636441966,0.452597744427,0.214429646696,0.254620512528,0.13891953749,0.555443060688,0.349164741141,0.349164741141,0.0307000246968,0.1328829652,0.0190505389579,0.0190211250379,0.0221725126285,0.103620937917,0.117559358926,0.200373824908,0.226338051331,0.207163501523,0.207163501523,0.154736885385,0.0222125379598,0.0213641963149,0.0190505389579,0.0189918021831,0.814613258605,0.814613258605,0.260036302995,0.290983677212,0.814613258605,1.01824698596,1.35763653188,0.531296769015,0.488799295711,0.872794323539,0.143819813862,0.0119522037368,0.0119176877079,0.0160288954885,0.0640470869761,0.0668435319893,0.872794323539,0.643132225291,0.128689136067,0.271589989347,0.135834178312,0.169773129941,0.0962832767358,0.0779001777853,0.678857440537,0.0640470869761,0.0640470869761,0.555443060688,0.0505660863164,0.0503583181664,0.718785622302,0.0160080997987,0.763704826809,0.0630578806178,0.116440492457,0.0970468076064,0.145531021491,0.137359524421,0.127349440656,0.126037367835,0.0637139167773,0.0551145245097,0.0543807097766,0.0546231307137,0.0266393427248,0.0548677258312,0.0558684437699,0.0551145245097,0.0265243607176,0.0162827463578,0.0160080997987,0.0160080997987,0.0160080997987,0.0160080997987,0.0160497455466,0.0520699741138,0.0160288954885,0.0160288954885,0.0160497455466,0.0162612839088,0.15875398966,0.126037367835,0.130057335639,0.152803653959,0.0596784944693,0.0593891736878,0.0160080997987,0.0160497455466,0.0160497455466,0.0160080997987,0.0160288954885,0.0160706501865,0.0159666706754,0.0159666706754,0.0159666706754,0.0156230356685,0.0052756858927,0.00648559828333,0.313361009441,0.15875398966,0.188047950499,0.203712082574,0.00648895957144,0.0566433052457,0.0558684437699,0.0577105673004,0.0633841991211,0.0637139167773,0.0630578806178,0.21825734818,0.21825734818,0.12225859813,0.127349440656,0.126037367835,0.130057335639,0.130057335639,0.167448544174,0.128689136067,0.0571719490641,0.0571719490641,0.0574399938194,0.117559358926,0.109167860492,0.110150648586,0.154736885385,0.114265499704,0.214429646696,0.118699950961,0.107254010001,0.0627349089727,0.0624152329582,0.0293782314573,0.0293782314573,0.0293782314573,0.165186785054,0.162985339515,0.160841826757,0.174621551698,0.610979531587,0.763704826809,0.100226100112,0.092639152164,0.094063163912,0.235040347058,0.235040347058,0.0711133948183,0.0978225549736,0.0978225549736,0.0970468076064,0.0962832767358,0.0970468076064,0.0970468076064,0.0715288041324,0.092639152164,0.643132225291,0.00491184697256,0.00490993607675,0.00490993607675,0.177151163056,0.182436918149,0.185199926501,0.182436918149,0.182436918149,0.182436918149,0.182436918149,0.182436918149,0.182436918149,0.182436918149,0.130057335639,0.130057335639,0.130057335639,0.134342356298,0.162985339515,0.226338051331,0.230607102062,0.230607102062,0.226338051331,0.226338051331,0.226338051331,0.162985339515,0.162985339515,0.162985339515,0.167448544174,0.162985339515,0.169773129941,0.167448544174);

modeFreqs=par(i,nModes,ba.take(i+1, modeFrequencies));
modeGains=par(i,nModes,ba.take(i+1, massEigenValues));
modeT60 = par(i,nModes,ba.take(i+1,t60));

cabinetVoxTopBoostBass=modalModel(nModes,modeFrequencies,modeT60,modeGains);

modalModel(n,modeFreqs,modeRes,modeGains) = _ <: par(i,n,gain(i)*pm.modeFilter(freqs(i),res(i))) :> _
with {
	freqs(i) = ba.take(i+1,modeFreqs);
	res(i) = ba.take(i+1,modeRes);
	gain(i) = ba.take(i+1,modeGains);
};


cab = cabinetVoxTopBoostBass;

wetdry = vslider("[2] amount[style:knob]",  1, 0, 1, 0.01);
dry = 1 - wetdry;

process = _ <: _*dry, (_*wetdry:cab) :> _;
