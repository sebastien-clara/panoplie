declare name "cabinetLineAngoraBass";
declare description "Generated by tools/physicalModeling/ir2dsp.py";

import("stdfaust.lib");

pi = 4*atan(1.0);
nModes = 64;

modeFrequencies=(166.57223796,374.787535411,458.073654391,541.359773371,666.288951841,999.433427762,1166.00566572,1290.93484419,1415.86402266,1665.7223796,1749.00849858,1873.93767705,2040.50991501,2248.72521246,2332.01133144,2456.94050992,2581.86968839,2748.44192635,2831.72804533,2915.01416431,2998.30028329,3123.22946176,3289.80169972,3373.0878187,3498.01699717,3706.23229462,3872.80453258,4122.66288952,4205.9490085,4289.23512748,4747.30878187,4830.59490085,4913.88101983,5163.73937677,5247.02549575,5413.59773371,5496.88385269,5663.45609065,5830.02832861,5913.31444759,6163.17280453,6371.38810198,6621.24645892,6912.74787535,7120.9631728,7412.46458924,7495.75070822,7579.0368272,7662.32294618,7787.25212465,7995.4674221,8078.75354108,8453.54107649,8745.04249292,8869.97167139,8953.25779037,9036.54390935,9119.83002833,9369.68838527,9452.97450425,10494.0509915,11993.2011331,12243.0594901,12326.3456091);
massEigenValues=(1.0,0.3508142206,0.299035699072,0.243738427025,0.499446960411,0.159509626813,0.177524803443,0.17131720051,0.193851423911,0.213122943186,0.218535278711,0.196135130931,0.172385874337,0.369505010495,0.435608345921,0.420810191136,0.341650849343,0.326319506978,0.265839955939,0.231031510505,0.247515461279,0.201329876172,0.175007825714,0.15333308271,0.132996467325,0.172881239286,0.158307140372,0.114233040694,0.151770588337,0.174538660011,0.0974740213488,0.129229299915,0.182834913175,0.17585371408,0.19877183095,0.171308991989,0.101083077369,0.0668972406545,0.0354687240851,0.0332731767509,0.0210767780544,0.0133419122848,0.0340282369674,0.0380176781916,0.0297777931353,0.0131203036748,0.0102781395835,0.0143445156905,0.0139798632746,0.0172510123526,0.0134273373437,0.0130722176625,0.0254188159552,0.0139665380997,0.013882391463,0.0135139193059,0.0151288698154,0.0130106852243,0.0112518657591,0.0114184390154,0.0186823959525,0.0103643228185,0.0131334834403,0.0129754620318);
t60=(30.5316773144,8.32687806393,8.32687806393,6.5425638385,45.797476799,22.8987775722,30.5316773144,5.388007575,6.10639813895,11.4494279584,11.4494279584,6.5425638385,3.15851961804,8.32687806393,10.1772780014,8.32687806393,8.32687806393,22.8987775722,3.81652821641,3.66387022159,3.66387022159,3.15851961804,18.3190377266,18.3190377266,3.66387022159,8.32687806393,8.32687806393,3.66387022159,15.2658778297,15.2658778297,3.98246081949,5.72475315185,11.4494279584,7.63297808737,22.8987775722,6.5425638385,4.57981819057,3.52295514945,45.797476799,13.0850493318,0.301377025505,0.297464055801,18.3190377266,18.3190377266,9.15955803579,5.08867817335,1.3671648672,2.34866288167,2.28994826829,6.5425638385,2.28994826829,2.28994826829,11.4494279584,2.28994826829,2.28994826829,2.28994826829,10.1772780014,2.28994826829,13.0850493318,13.0850493318,11.4494279584,2.6940429604,7.04583195335,7.04583195335);

modeFreqs=par(i,nModes,ba.take(i+1, modeFrequencies));
modeGains=par(i,nModes,ba.take(i+1, massEigenValues));
modeT60 = par(i,nModes,ba.take(i+1,t60));

cabinetLineAngoraBass=modalModel(nModes,modeFrequencies,modeT60,modeGains);

modalModel(n,modeFreqs,modeRes,modeGains) = _ <: par(i,n,gain(i)*pm.modeFilter(freqs(i),res(i))) :> _
with {
	freqs(i) = ba.take(i+1,modeFreqs);
	res(i) = ba.take(i+1,modeRes);
	gain(i) = ba.take(i+1,modeGains);
};


cab = cabinetLineAngoraBass;

wetdry = vslider("[2] amount[style:knob]",  1, 0, 1, 0.01);
dry = 1 - wetdry;

process = _ <: _*dry, (_*wetdry:cab) :> _;
